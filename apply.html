<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply - F-Bridge Accelerator</title>
    <meta name="description" content="Apply for the free 2-week F-Bridge Africa accelerator.">
    <style>
        body { font-family: 'Lato', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        h1, h2, h3, h4, h5, h6, .font-poppins { font-family: 'Poppins', sans-serif; }
        .cta-button { transition: all 0.3s ease; }
        .cta-button:hover { background-color: #1aa34a; }
        /* Style for the submission status */
        #form-status { display: none; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;900&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-6 py-5 flex items-center space-x-4">
            <a href="/" class="flex items-center space-x-3">
                <svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100" height="100" rx="20" fill="#0B2D48"/>
                    <text x="50%" y="50%" dominant-baseline="central" text-anchor="middle" font-family="Poppins, sans-serif" font-size="50" font-weight="bold" fill="white">
                        FB
                    </text>
                </svg>
                <span class="text-xl font-bold text-[#0B2D48] font-poppins">F-Bridge Africa</span>
            </a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20">
        <div class="max-w-2xl mx-auto bg-white p-8 md:p-12 rounded-2xl shadow-lg">
            
            <div class="text-center mb-8">
                <h1 class="text-3xl md:text-4xl font-black text-[#0B2D48] font-poppins">Accelerator Application</h1>
                <p class="text-lg text-gray-600 mt-2">Apply for our **free 2-week intensive program**. Spots are limited, so we review every application carefully.</p>
            </div>
            
            <form id="sprint-form" class="space-y-6">

                <div>
                    <label for="name" class="block text-sm font-bold text-gray-700 mb-2">Full Name</label>
                    <input type="text" name="name" id="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <div>
                    <label for="email" class="block text-sm font-bold text-gray-700 mb-2">Email Address</label>
                    <input type="email" name="email" id="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <div>
                    <label for="phone" class="block text-sm font-bold text-gray-700 mb-2">Phone Number</label>
                    <input type="tel" name="phone" id="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>

                <div>
                    <label for="business-idea" class="block text-sm font-bold text-gray-700 mb-2">What is your business idea? (If none, type 'NIL')</label>
                    <textarea name="business_idea" id="business-idea" rows="4" required class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                </div>

                <div>
                    <label for="expectations" class="block text-sm font-bold text-gray-700 mb-2">What are your expectations for this 2-week accelerator?</label>
                    <textarea name="expectations" id="expectations" rows="4" required class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                </div>

                <div class="text-center pt-4">
                    <button type="submit" id="submit-button" class="w-full text-center bg-[#1DB954] text-white font-bold py-4 px-10 rounded-full cta-button text-lg">Submit Application</button>
                </div>

                <div id="form-status" class="text-center text-lg font-medium p-4 rounded-lg"></div>

            </form>
        </div>
    </main>

    <footer class="bg-black text-white py-10 mt-20">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 F-Bridge Africa. All Rights Reserved.</p>
            <p class="text-gray-400 mt-2">Based in Lagos, Serving Africa</p>
        </div>
    </footer>

    <script>
        window.addEventListener("DOMContentLoaded", function() {
            var form = document.getElementById("sprint-form");
            var button = document.getElementById("submit-button");
            var status = document.getElementById("form-status");

            function success() {
                form.reset();
                button.style.display = "none";
                status.style.display = "block";
                status.classList.add("bg-green-100", "text-green-800");
                status.innerHTML = "Success! Submitting your application...";
                
                // This is the redirect. It waits 1 second then sends
                // the user to your thank-you page.
                setTimeout(function() {
                    window.location.href = "/thank-you";
                }, 1000);
            }

            function error() {
                status.style.display = "block";
                status.classList.add("bg-red-100", "text-red-800");
                status.innerHTML = "Oops! There was a problem. Please try again.";
            }

            form.addEventListener("submit", function(ev) {
                ev.preventDefault(); // Stop the form's default submit
                var data = new FormData(form);
                
                fetch("https://formspree.io/f/xvgdgeza", {
                    method: "POST",
                    body: data,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).then(response => {
                    if (response.ok) {
                        success();
                    } else {
                        response.json().then(data => {
                            if (Object.hasOwn(data, 'errors')) {
                                status.innerHTML = data["errors"].map(error => error["message"]).join(", ");
                            } else {
                                error();
                            }
                        });
                    }
                }).catch(error => {
                    error();
                });
            });
        });
    </script>
</body>
</html>
